'https://editor.plantuml.com/
'Sequence Diagram 3: Internal ABC Iterative Loop

@startuml
' === Classic UML style with strong visual presence ===
skinparam style strictuml
skinparam roundcorner 0
skinparam ArrowColor Black
skinparam ArrowFontColor Black
skinparam sequenceMessageAlignment center

participant generator as "generator : HybridArtificialBeeColonyTestCaseGenerator"
participant evaluator as "evaluator : ITestCaseEvaluator"
participant randomizer as "randomizer : Random"

note over generator
Phase 1: Start RunABCAlgorithm()
end note

generator -> generator : CreateInitialPopulation()
generator -> evaluator : EvaluatePopulation(initialPopulation)

loop for each generation

    note over generator
    Phase 2: Mutation of the population
    end note

    generator -> randomizer : Select test cases for mutation
    generator -> generator : Apply mutations

    note over generator
    Phase 3: Evaluation of the new population
    end note

    generator -> evaluator : EvaluatePopulation(mutatedPopulation)

    note over generator
    Phase 4: Check for stagnation and improvement
    end note

    generator -> generator : Check improvement

    alt If no improvement
        generator -> generator : IncreaseStagnationCounter()
    else If improvement exists
        generator -> generator : UpdateBestPopulation()
    end

end

note over generator
Phase 5: Final selection
end note

generator -> generator : SelectFinalPopulation()

@enduml
